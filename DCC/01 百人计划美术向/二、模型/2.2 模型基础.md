# 建模流程  

一般来讲，建模流程分为三个阶段：  

*   模型阶段  
    *   一般会使用 Maya、3DMax 这些建模软件去高效地得到一个布线和精度相对比较精准的一个模型。这个模型我们一般以 FBX 格式进行导出。导出后我们会进入贴图阶段。  
*   贴图阶段  
    *   一般都会用 SubstancePainter，Mary，现在新出的八猴贴图渲染器也很不错。甚至如果经验足够的话，我们完全可以用 PS 进行贴图绘制也是毫无问题的。其中 SP 的贴图偏向于——机械、金属呀这部分，而 Mary 更加适合于人物，或者幻想人物，比如像龙之类的一些人物的皮肤或者龙鳞绘制。  
    *   SP 常用于游戏领域，而 Mary 更加适用于影视领域。SP 在同样的精度下，比如说同样的4096或者同样的8192的贴图精度下，绘制出来的效果没有 Mary 的精度高。不过 SP 是胜在简单，而 Mary 相对复杂点。所以如果是初学者，一般来讲使用 SubstancePainter 绘制贴图最为合适。绘制贴图后，我们会进入渲染输出的环节。  
*   渲染阶段  
    *   渲染输出的话一般会使用离线引擎或者是实时引擎去进行一个渲染。  
    *   离线引擎的话，我们有一般会使用安诺德、Vray 这些渲染器进行一个渲染。  
    *   安诺德是无偏差渲染器，而 Vray 是有偏差渲染器，但是其实在正常的情况下，无偏和有偏的区别还是很小的。安诺德渲染的话比较简单高效，而 Vray 渲染速度会比较快，但3S 效果并没有安诺德漂亮，要是离线渲染人物建模的话，比较建议使用安诺德渲染器（它的 GPU 渲染也是个非常好的渲染方式，它的速度是1070、2070甚至是咱们的30系显卡，比上普通的四核八线程的 CPU 要快个4倍到5倍）。  
    *   1070对比普通的6700k，1070的渲染速度也就跟3900X 渲染速度是差不多的，一般来讲，如果我们的显存足够大，并且角色是一个相对于简单的角色的话，我们使用安诺德来离线渲染是一个很不错的选择。  
    *   实时渲染的话，咱们的八猴、Unity、UE4。其中八猴是支持光线追踪，可以在几秒钟到一分钟之内渲染出来一个比较大尺寸，而且渲染精度要比 UE4之类的效果要好一点。所以**实时渲染使用八猴4比较好一点。**  

# 次时代建模基本流程  

## 传统手绘和次时代建模流程的区别  

相较于传统的手绘流程，**次时代中添加了一些法线贴图**。然后手绘模型则是在制作完低模之后，通过手绘的方式来完成贴图制作。次时代则是要对低模进行一个细化，得到一个相对精度较高的高模，通过烘焙的方式得到一张法线，使得低模看上去更加精细。**【简言之，区别在于法线的引入】**  

## 基本流程  

### 中模阶段  

首先我们要确定原画的比例关系，我们拿到原画之后要通过**抓型**的方法，包括常用的**十字法**把型给抓准咯。然后再到Maya或者Max中通过搭Box的方式去确定整体的比例关系，从上到下的每一个点全方位地与设定进行一个对比，像角色模型的话，需要去通过头、肩、腰部、膝盖这些比较重要的基本点的一些位置，然后更好地去抓型。通过角色的一些大致的Pose和比例之后，需要去确认制作的装备和每一个所属部件的大小，比例是否合适。  

*   其中中模阶段最好的方式是通过剪影的方式能快速地找到跟设定比较相似的感觉，这个感觉对了之后制作中模的阶段就算完成了。  

*   在中模阶段布线也是需要注意一点的，**布线最好是使用均匀的四边面去避免三角面，围绕结构去进行一个布线——通过卡三环线之类进行一个卡线。**  

### 高模阶段  

高模阶段在已经完成中模的情况下去进一步细化模型，让它成为一个足以还原设定细节的高精度模型，同时我们要去兼顾中模的比例，位置大小，与原画设定进行匹配，提高它的相似度。同时我们要根据中模的情况，对原画设定进行一些修正，因为原画设定可能有部分违背世界物理规律的问题，所以我们要进行一些结构上的修改，让这个高模更具有真实性。  

*   高模阶段我们一般使用ZB（ZBrush）作为工具，在导入ZB之前，我们要对模型进行一些检查，比如有没有重合面之类、要检查模型是否位于世界中心等等。  
*   然后我们就可以把这个模型导入到ZB当中，在ZB中第一步我们就要通过剪影，以及摄像机的角度去做一些检查（不过ZB的摄像机并不是物理摄像机，但依旧可以作为参考去对咱们的设定的剪影的轮廓进行检查）。如果有偏差，我们要第一时间修改，**在ZB中一般来讲会控制模型的一个面数，比如是10w-20w之间，我们会进行一个布料的雕刻（雕刻布料、皮革的这种起伏、褶皱都是完全足够的）。**  
*   之后我们**在50w-100w面左右要去进行一些破损之类的雕刻**，然后去尽量把这些模型的陈旧感包括模型的磨损之类的都做出来，这样子会提高模型的真实程度。之后就是在做模型的时候，**我们要控制面数，一个子工具模型的面数不能超过200w面（因为太高会导致卡顿）。如果超过200w面，我们就要去重新进行一个拓扑，然后一层一层一级一级的投射到project上面，然后在拓扑的情况下，我们要做好一些面数疏密的区分，这样能高效地去运用我们的面数。**  

### 拓扑阶段  

为什么我们要拓扑低模？因为如果动辄几千万，几百万的面数，在游戏中是无法流畅地运行，因此我们**需要通过拓扑得到低模**。  

拓扑的话，早年使用TopoGun其实是比较舒服的，现在的话是去ZBrush直接拓扑还是通过Maya进行拓扑都是完全没有问题的。一般来讲会使用Maya进行拓扑。  

### 低模阶段  

拓扑得到低模，那低模阶段的话，我们要去保证它的布线要比较好。使用均匀和少量的布线作为基础模型，尽量地匹配高模。如果我们做的角色模型之类需要绑定的话，我们就要对裸模之类的布线要进行一定的修改（通过环形边、通过卡线的部分调整比如肘关节、膝关节这些地方）。如果我们要进行布料结算的话，我们低模就需要比较好的四方面的布线，并且要相对比较均匀~重要的地方在于**匹配高模**！  

为了让低模烘焙后更加接近于高模的效果，匹配度是一个非常关键性的一点。在项目规定的面数内尽量让低模边缘产生不严重的转折感。匹配的时候，需要在高模和低模上面的剪影去作为一个穿插得到一个较好的细节，而不是低模包裹住以后不管有多少面都没有问题。**一般来讲会使用蓝色和红色球作为一个检查，然后低模使用红色而高模使用蓝色。** 

如果匹配没问题，其实就可以进入烘焙贴图阶段，不过通常在低模阶段之后就会进入一个很枯燥乏味的阶段——拆 UV。  

### 拆UV阶段  

因为要尽量地分布平整，然后去尽量提高UV的利用率（最好能达到95%利用率），并且这个UV的话是不允许有太大的缩放差距，一般会用棋盘格进行检查。分完UV后，就要看项目是需不需要打直的，如果是想枪械机械类的游戏，该打直的UV就要进行打直。不过打直UV的话，一般会建议Maya拆完UV之后去输出Unfold3D里面进行UV打直。Unfold3D里面打直UV比较傻瓜，几乎是可以一键完成。摆完UV之后就会进入到烘焙贴图阶段~  

### 烘焙贴图阶段  

一般来讲有两种烘焙的方式：  

*   **八猴**，精度要比SP要高一些，并且可以对烘焙出来的法线之类去作一些修正，SP就没法做法线修正。  
*   SP，优势是制作贴图一气呵成。  

八猴的话使用 GPU 烘焙是非常快的，虽然 AO 可能会稍微慢上一点，不过法线贴图烘焙出来的效果会比较好，而且烘焙出来的速度是极快的，建议如果不嫌麻烦，能去八猴烘焙就去八猴烘焙。烘焙制作完后，就会进入材质制作的阶段。  

### 制作材质阶段  

推荐SP制作贴图，它的好处在于很多项目都在这里制作过。在A站上面可以购买的一些**SP智能材质**这些智能材质制作已经完成度很高了，我们需要的那些金属、皮革、布料那些比较好看比较符合原画设定的智能贴图，都可以直接放进去使用，然后我们去对智能贴图进行一些调整就可以了。  

SP里面比较重要的部分如**遮罩**部分，因为它是通过遮罩来进行运算的（SP通过遮罩来进行Blend混合）。我们一般来讲去调整它的黑白遮罩就可以了，黑白遮罩它一般会使用控制生成器比如像灰尘生成器、划痕生成器这些是来源于AO，还有曲率贴图和厚度贴图进行一个计算控制。通过调整生成器的这些参数，就可以得到一个比较好的效果了，我们可以极短的时间去得到一个精度相对不错的智能材质，不过**制作材质的话，我们还是要记得——要符合PBR流程的规范性。**  

SP里面自带了一个**PBR的检查滤镜**，一般我们会使用这个滤镜来看材质是否符合PBR规范，但也不是需要100%符合，**只要97%或者95%以上**就可以了。然后注意我们在A站购买或者其他渠道得到的智能贴图是可能会有不符合PBR规范的，所以它虽然效果看起来不错，但是如果我们使用了，我们就需要去调整（可能结果不会尽如人意）。  

### 渲染输出阶段  

一般来讲如果要求不是很高，可以在SP里面直接去制作个人项目，一般来讲可以在SP里面直接通过Vray渲染器渲染就可以了。同时，渲染输出有一个比较重要的地方在于灯光环境的测试（后面会讲到）。  

# 次时代建模的基本流程示意  

![[1678970679400.png]]  

我们分别会以高模——低模——烘焙——贴图——输出阶段举例子  

高模： 通过各种方法，让它的细节足够多。  


低模： 通过拓扑的手段，以极低的面数把这个高模包裹住。  
    

烘焙：  一般在八猴里面烘焙法线贴图和AO贴图  
    

贴图：  使用基于物理的渲染流程，也称之为PBR流程（一种着色和渲染的技术，能更加精确地瞄准光与物体的表面是如何互动）。因为它的高应用性，在电影和游戏行业是广泛使用。PBR一般分为两种  

*   基于金属度和粗糙度的工作流程。使用的是金属和粗糙度两个贴图。  
*   基于镜面反射的工作流程，使用的是反射贴图和光泽度两张贴图。  

它们都是遵循 PBR 的核心原理，不过最大的区别是识别反射与漫反射。这两种贴图都要使用到传统的法线贴图和 AO 图，还有高度贴图。

基于金属度的贴图流程的话，

BaseColor 是保存了金属的反射率以及非金属的反射颜色（不包含光照的基础颜色），一般是使用 RGB 三种通道，不包含其他光照信息， BaseColor+AO 贴图，构成了我们常用的 **Diffuse 贴图**。  

**金属度贴图**就是用来区分哪些地方是金属，哪些地方是非金属，黑色地方为非金属，而白色的地方为金属。  

**粗糙度贴图**就是描述表面引起的光线漫反射的不规则程度，粗糙度贴图中，黑色的部分则表示较为光滑，白色则表示较为粗糙。  

**镜面贴图就是对粗糙度进行一个反向**就行了。就是黑色表示粗糙，白色表示光滑。  

**高光贴图**反映了金属的反射率，用金属来表现光线照到模型的表面时，其表面的属性，一般被称为高光贴图。**大部分PBR都是走金属度的流程。**  

![[1678970679434.png]]  

高模的模型细节会比较完整，但是面数会非常之多。就连这些缝线也有很多的面数。  

![[1678970679493.png]]  

而低模的面数就会非常少。我们可以用较少的面去匹配高模的那些大褶皱。  

![[1678970679532.png]]  

然后可以使用法线贴图让低模还原出高模的细节。  

![[1678970679819.png]]  

让这些低模在法线贴图的情况下看起来和高模是完全一致的  

# 角色建模  

![[1678970679864.png]]  

## 基本人体  

一般会使用基本人体作为第一步，基本人体的话，以效率为准基本上会使用makehuman或者用daz去生成基本人体，其中makehuman生成的人体完成度相对较低，但是它的布线会比daz要好一点，daz强在它有绑定系统。我们如果是去做一个静帧的话，我们可以直接用这个绑定系统，不需要额外的绑定，就快速地得到一个最基础的一个Pos，并且它的一个角色会makehuman的细节要多一点。  

## 人头  

我们确定了原画，确定了人体，我们下一步就是要确定人头，人头是一个非常重要的阶段，如果我们把装备之类都做完了我们再做人头，此时若人头和角色不匹配的话，就会出现一个比较严重的问题（有可能没法改，导致推到重来）。  

## 装备  

emm，没介绍太多，感觉就正确建模就好了。  

## 头发基本体  

头发很重要，因为头发会影响我们对人头的判断，如果没有了头发这个人头无论是做宽了还是做窄了，其实加上头发之后都会有一些细微的变化，甚至包括咱们常说的眉弓骨之类都会有一些问题。  

## 人头细化  

## 装备细化  

## 贴图  

## 环境测试  

我们一般会使用标准的HDR环境，包括两三个小球和一张色卡，一个小球是去测试光照反应，一个是金属小球（也算是测试光照反应的）  

## 输出完成  

![[1678970680132.png]]  

# 硬表面建模（会有专门一节课）  

一般是ZBrush起大型，再通过常规软件进行一个拓扑，可以以最快的速度得到模型。如果公司对于你的模型要求非常之高的话，一定要按照规定的流程来走（用Maya或者3Dmax进行一个标准的卡线建模，不会允许你偷懒使用ZB）。  

# 灯光测试环境

**这个环境经常是TA在引擎里搭建**，灯光测试环境一般都是HDR贴图，通常会使用左下角这样的金属球、普通的Diffuse球两张色卡来进行灯光测试。  

![[1678970680174.png]]  

*   Diffuse球主要确认灯光的强度，以及色温、方向和颜色是否与需求一致。  
*   而金属球的话，一般是用来确认灯光的位置。  
*   色卡的话会使用一张是079的，一张是sRGB的。  
    *   色卡主要是用来辅助材质贴图颜色的控制尽量不要有太高的饱和度以及更方便于后期的调色。如果当制作完贴图发现颜色和色卡上面的颜色差距过大，就可以对贴图快速地进行调整。  
*   HDR用来给场景一个环境光并且作为一个主要的灯光的输出。  
    
*   能保证Assets们进入同一个环境下的时候，灯光、亮度不会有较大的差别。所以当我们制作完模型之时，我们会进行一个灯光环境的测试，若都没有问题我们就可以进行最终的渲染输出了。  
    

最终就可以得到合格的模型。  

# May 佬对于作品集展示的建议
建模流程每个环节都要展示出来，一整套流程！